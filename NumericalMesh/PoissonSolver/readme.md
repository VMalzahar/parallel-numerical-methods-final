# `PoissonSolve`

**数据更新**：第一次布置的数据存在部分顶点不存在于三角网格中；更新后删除了这些不在网格上的点；



`PoissonSolver` 是一个用于求解三角网格上的泊松方程$\Delta \phi = f$的 C++ 应用，代码已给出文件的读写逻辑，你需要根据三角网格，$f$场及边界条件（其中 $f$ 场由每个格点上$f$值给出，而边界条件则定义为边界格点上的 $\phi$ 值），计算网格中所有格点的 $\phi$ 值。

**实现代码后，在最后的代码提交中，麻烦更新此`readme`文档**



## 项目构建

确保你的系统已安装以下软件：

- `CMake` (版本 3.10 或更高)
- 支持 C++17 标准的 C++ 编译器

执行：

```
cd ./build
cmake ..
```

构建成功后，打开build文件夹中的解决方案，在Visual Studio中将`PoissonSolver`设为启动项目



如果自行构建vs项目，如果出现文件读取路径问题，相应调整下main函数里的相对路径



## 项目代码框架

目录`PoissonSolver/src`存放了求解问题项目的代码文件：

- **`Mesh(.h/.cpp)`**：网格类，负责加载三角网格OBJ文件，获取顶点集、三角集，并负责将求解结果写入OBJ文件，你无需修改此文件；
- **`main.cpp`**：程序入口代码，`main()`函数无需修改，**你需要基于任意并行编程模型，完成Solution函数的代码**：
  - **函数的输入**包括：顶点集（`vector<Vertex>`）、三角形的集合（`vector<Triangle>`）；`Vertex` 结构包括每个顶点的坐标 (x, y)、待求解的 $\phi$ 值和已知的拉普拉斯算子值 $f$ ， `Triangle` 结构存储了形成三角形的三个顶点的索引。
  - 边界条件直接通过顶点的 $\phi$ 值区分：非边界顶点的$\phi$值默认为`-1e30`；边界顶点的 $\phi$ 值则为正常值，对应边界条件；
  - **函数的目标**是基于每个顶点的拉普拉斯算子值 $f$ 和给定的边界条件，计算每个顶点的 $\phi$ 值。



在此框架下，你需要根据离散化的网格信息和边界条件来计算未知函数 $\phi$ 。此过程可能涉及到建立和求解线性方程组，方程组中的系数和常数项分别由网格的结构、边界条件以及每个顶点处的拉普拉斯算子值 $f$ 确定。典型的求解步骤包括：

- 利用有限元方法（FEM）、有限差分方法（FDM）等方法来离散化拉普拉斯方程。
- 构建相应的线性方程组。
- 应用边界条件。
- 使用数值方法**并行求解**线性方程组，得到网格上每个点的 $\phi$ 值。